<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <title>Movie API</title>
  </head>
  <body>
    <div class="container">
      <p>
        The API provides information about different movies, directors, and
        genres. Users is able to sign up, update their personal information, and
        create a list of their favorite movies.
      </p>

      <h1>API endpoints</h1>

      <div class="table-responsive-md">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>Business Logic</th>
              <th>Url</th>
              <th>HTTP Method</th>
              <th>Request</th>
              <th>Response</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Return a list of ALL movies</td>
              <td>/movies</td>
              <td>GET</td>
              <td>None</td>
              <td>
                { Title: { type: String, required: true }, Description: { type:
                String, required: true }, Genre: { Name: String, Description:
                String, }, Director: { Name: String, Bio: String, }, Actors:
                [String], ImagePath: String, Featured: Boolean, }
              </td>
            </tr>
            <tr>
              <td>Return data about a single movie by title</td>
              <td>/movies/:title</td>
              <td>GET</td>
              <td>None</td>
              <td>
                { Title: { type: String, required: true }, Description: { type:
                String, required: true }, Genre: { Name: String, Description:
                String, }, Director: { Name: String, Bio: String, }, Actors:
                [String], ImagePath: String, Featured: Boolean, }
              </td>
            </tr>
            <tr>
              <td>Return data about a genre by title</td>
              <td>/movies/genre/:name</td>
              <td>GET</td>
              <td>*title* string required</td>
              <td>
                { Title: { type: String, required: true }, Description: { type:
                String, required: true }, Genre: { Name: String, Description:
                String, }, Director: { Name: String, Bio: String, }, Actors:
                [String], ImagePath: String, Featured: Boolean, }
              </td>
            </tr>
            <tr>
              <td>Return data about a director by title</td>
              <td>/movies/director/:title</td>
              <td>GET</td>
              <td>Request</td>
              <td>
                { Title: { type: String, required: true }, Description: { type:
                String, required: true }, Genre: { Name: String, Description:
                String, }, Director: { Name: String, Bio: String, }, Actors:
                [String], ImagePath: String, Featured: Boolean, }
              </td>
            </tr>
            <tr>
              <td>Users to registration</td>
              <td>/users/</td>
              <td>POST</td>
              <td>Request</td>
              <td>
                { Username: { type: String, required: true }, Password: { type:
                String, required: true }, Email: { type: String, required: true
                }, Birthday: Date, FavoriteMovies: [{ type:
                mongoose.Schema.Types.ObjectId, ref: "Movie" }], }
              </td>
            </tr>
            <tr>
              <td>Update user info</td>
              <td>/users/:username</td>
              <td>PUT</td>
              <td>Request</td>
              <td>
                { Username: { type: String, required: true }, Password: { type:
                String, required: true }, Email: { type: String, required: true
                }, Birthday: Date, FavoriteMovies: [{ type:
                mongoose.Schema.Types.ObjectId, ref: "Movie" }], }
              </td>
            </tr>
            <tr>
              <td>Add a movie to the list of favorites</td>
              <td>/users/favorites/:username</td>
              <td>POST</td>
              <td>Request</td>
              <td>
                { Username: { type: String, required: true }, Password: { type:
                String, required: true }, Email: { type: String, required: true
                }, Birthday: Date, FavoriteMovies: [{ type:
                mongoose.Schema.Types.ObjectId, ref: "Movie" }], }
              </td>
            </tr>
            <tr>
              <td>Remove a movie from the list of favorites</td>
              <td>/users/favorites/:username</td>
              <td>DELETE</td>
              <td>Request</td>
              <td>A message indicating the movie title has been removed</td>
            </tr>
            <tr>
              <td>Allow existing users to deregister.</td>
              <td>/users/:username</td>
              <td>DELETE</td>
              <td>Request</td>
              <td>A message indicating user has been removed</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
